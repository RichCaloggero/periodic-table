<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
<title>Test...</title>
</head>
<body>

<div id="container">
<table id="table1">
<tr><td><a href="#">table without grid role</a></td></tr>
</table>

<table id="table2" role="grid">
<tr><td tabindex="0">table with grid role - focus on cell</td></tr>
<tr><td><a href="#">table with grid role - focus on link</a></td></tr>
</table>
</div>

<script>
const container = document.querySelector("#container");
const table1 = document.querySelector("#table1");
const table2 = document.querySelector("#table2");

table1.addEventListener("click", e => handleClick(e.target));
table2.addEventListener("click", e => handleClick(e.target));
table2.addEventListener("keydown", e => {
if (e.key === "Enter" && !e.ctrlKey && !e.shiftKey && !e.altKey) e.target.click()
});

function handleClick (cell) {
const div = document.createElement("div");
div.tabIndex = 0;
div.textContent = `extra info for ${cell.textContent}`;
container.appendChild(div);
div.focus();
} // clickHandler

</script>


</body>
</html>
